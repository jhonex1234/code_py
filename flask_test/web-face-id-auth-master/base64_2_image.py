import base64
import cv2
import numpy as np

def data_uri_to_cv2_img(uri):
    encoded_data = uri.split(',')[1]
    nparr = np.fromstring(base64.b64decode(encoded_data), np.uint8)
    img = cv2.imdecode(nparr, cv2.IMREAD_COLOR)
    return img

# data_uri = "data:image/webp;base64,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"
# img = data_uri_to_cv2_img(data_uri)
# cv2.imshow('Test', img)
# cv2.waitKey(0)
# cv2.destroyAllWindows()
